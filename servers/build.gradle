apply plugin: 'java'
//apply plugin: 'idea'

sourceCompatibility = 1.6
version = '1.0'

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.11'
    compile 'io.netty:netty-all:4.0.26.Final'
}

//idea {
//    module {
//        downloadJavadoc = true
//        downloadSources = true
//    }
//}

task uberjar(type: Jar, dependsOn:jar/*,dependsOn:[':compileJava',':compileGroovy'*/) {
    from files(sourceSets.main.output.classesDir)
    from configurations.runtime.asFileTree.files.collect { zipTree(it) }
    exclude "META-INF/*.SF"
    exclude "META-INF/*.RSA"

    manifest {
        attributes(
                'Create-By': System.getProperty('java.version'),
                'Main-Class': 'Hosts',
                'Build-Version': version,
                'Build-Date': new Date()
        )
    }
}